<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text">
    <button id="btn">Click</button>
    <script>
        window.onload=function(){
            var oBtn=document.getElementById("btn");
            var oInput=document.getElementsByTagName("input")[0];
            oBtn.onclick=function(){
                var val=oInput.value;
                localStorage.setItem("value",val);
            }
        }
    </script>
    <script>
        // console.log([typeof null, null instanceof Object])
        // ["object",false]
        // instanceof 运算符是用来测试一个对象在其原型链构造函数上是否具有 prototype 属性，
        // null 值并不是以 Object 原型建出来的，所以 null instanceof Object 返回 false。
        // instanceof 用来判断右边的值是否为左边对象的构造函数，或原型对象上的构造函数
        // 用于检测构造函数的prototype属性，是否出现在某个实例对象的原型链上
        
        // 给定一个整数数组， 找到从三个整数中产生的最大乘积
        // const unsortedArray = [-10, 7, 2, 3,5, -1, -7];
        // computeProduct(unsortedArray)
//         首先需要后端配置：Access-Control-Allow-Origin 为true，允许跨域。如果需要携带cookie则需要设置Access-Control-Allow-Credentials 为true。我们在请求时withCredentials设置为true。

// CORS 比JSONP更灵活些，支持的请求方式多些

        // cors：跨域资源共享，是一种基于HTTP头的机制，该机制通过允许服务器标识，除了自己以为的其它origin(域，协议，端口)，这样的浏览器可以加载这些资源，其次cors对浏览器不同种类的请求，进行了相关的要求，

        // 单点登录：是指在同一个账户平台下的多个应用系统，用户只需登陆一次，便可实现所有相互信任的应用系统
        // eg: 百度旗下有百度贴吧，百度网盘
        // 单点登陆的关键：如何让sessionid,或 
        // https://blog.csdn.net/weixin_42851117/article/details/109128876

        // window.addEventListener('message',function(e){
        //     console.log('message',e)
        // })
        // let arr = [1,2,3,4,1,2,2,2]
        // let res = [1,2]
        // const filterArr = (arr) => {
        //     let singleItem = [...new Set(arr)]
        //     arr.filter(item => {
                
        //     })
        // }

                
    // 优先级顺序  请输出结果并进行解释
    // var val = 'smtg';
    // console.log('Value is ' + (val === 'smtg') ? 'Something' : 'Nothing'); 

    // Value is Something

    // 添加元素(指定位置添加) 
    // 描述：在数组arr的index处添加元素item，不要直接修改数组arr，结果返回新的数组 [1,2,3] 2,6 结果为[1,2,6,3]

    // let arr = [1,2,3];        
    // let index = 2;
    // let item = 6;
    // function insertItem(arr,index,item) {
    //     let _tmp = arr;
    //     _tmp.splice(index,0,item);
    //     return _tmp;
    // }       
    // let res = insertItem(arr,index,item);
    // console.log(res);
    // 找出数组arr中重复出现过的元素 [1,2,3,4,1,2,2,2] [1,2]

    // let arr = [1,2,3,4,1,2,2,2,6,7,6];
    // function findRepeatItem(arr) {
    //     let _sortAfterArr = arr.sort()
    //     let _tmp = new Set();

    //     for(let i = 0;i<_sortAfterArr.length-1;i++) {
    //         if(arr[i] === arr[i+1]) { 
    //             _tmp.add(arr[i])
    //         }
    //     }
    //     return [..._tmp];
    // }
    // let res = findRepeatItem(arr)
    // console.log('result',res);
    // let arr = [1,2,3,4,1,2,2,2,6,7,6];
    // function findRepeatItem(arr) {
    //     let result = []
    //     arr.reduce((a,c) => { // 1、a={},c=1 2、a={1:1} c=2 
    //         // if(a[c]) !result.includes(c) && result.push(c);
    //         // else a[c]=1;
    //         // return a
    //         console.log('---',a,c,result);
    //         if(a[c]) {
    //             !result.includes(c) && result.push(c);
    //         } else {
    //             a[c] = 1;  // {1:1} {1:1,2:1,3:1,4:1}
    //         }
    //         return a;
    //     }, {});
    //     return result
    // }
    // let res = findRepeatItem(arr);
    // console.log('---',res);

    //字符串陷阱   请输出结果并进行解释
    // function showCase(value) {
    //     console.log('inter',value)
    //     switch(value) {
    //         case 'A':
    //             console.log('Case A');
    //         break;
    //         case 'B':
    //             console.log('Case B');
    //         break;
    //         case undefined:
    //             console.log('undefined');
    //         break;
    //         default:
    //             console.log('Do not know!');
    //     }
    // }
    // showCase(new String('A'));
    // 给定一个整数数组，请找出两个元素之间的最大差，较小值的元素必须位于较大元素之前
    // const array = [7, 8, 15, 9, 20, 3, 1, 10];
    // function quickSort(array) {
    //     if(array.length <= 1) {return array}
    //     let pivotLen = Math.floor(array.length / 2); // 选取基准值的索引
    //     let pivot = array.splice(pivotLen,1)[0]; // 选取基准值
    //     let left = [];
    //     let right = [];
    //     for(let item of array) {
    //         if(item < pivot) {
    //             left.push(item);
    //         } else {
    //             right.push(item)
    //         }
    //     } 
        
    //     return quickSort(left).concat([pivot],quickSort(right))
    // }

    // function findLargestDifference(array) {
    //     // 1、先对元素进行从小到大的排序
    //     let _arr = quickSort(array);
    //     let min = _arr[0];
    //     let max = _arr[_arr.length-1]
    //     let diff = max - min;
    //     console.log(`最小值：${min} 最大值：${max} 最大差：${diff}`);
    // }
    // findLargestDifference(array);

    const array = [7, 8, 15, 9, 20, 3, 1, 10]

    function findLargestDifference(arr){
        const length = arr.length
        let diffarr = []

        function traverse(arr, n=1) {
            for (let i = 0; i < array.length; i++) {
                let diff = arr[length - n] - arr[i]
                if(length - n > i && diff > 0){
                    diffarr.push(diff)
                }
                if ((length - n) === i && n > 0) {
                    traverse(arr, n + 1)
                }
            }
        }
        traverse(arr)
        return Math.max.apply(null, diffarr)
    }

    let result = findLargestDifference(array)
    console.log(`result:`,result);
    </script>
</body>
</html>